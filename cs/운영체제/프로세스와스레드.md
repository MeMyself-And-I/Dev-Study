# 프로세스 & 스레드

## 프로세스

> 프로세스 : 프로그램을 메모리 상에서 실행중인 작업

- 각 프로세스마다 최소 1개의 스레드 보유
- 프로세스는 스레드와 달리 각각 별도의 주소공간을 할당(독립적이다)
  - Code 영역: 코드 자체를 구성하는 메모리 영역(프로그램 명령)
  - Data 영역: 전역변수, 정적변수, 배열 등
    - 초기화 된 데이터는 data 영역에 저장
    - 초기화 되지 않은 데이터는 bss 영역에 저장
  - Heap 영역: 동적 할당 시 사용(new() 등)
  - Stack 영역: 지역변수, 매개변수, 리턴 값(임시 메모리 영역)

## 스레드

> 스레드 : 프로세스 안에서 실행되는 여러 흐름 단위

- 스레드는 Stack 영역만 개별적으로 가지고 있으며 나머지 영역은 서로 공유한다.

## 멀티 프로세스

> 하나의 프로그램을 여러개의 프로세스로 구성하여 각 프로세스가 병렬적으로 작업을 수행하는 것

**_장점_**

- 독립적인 주소 공간을 가지므로 서로 영향을 주지 않고 안정적으로 실행 가능
- 하나의 프로세스가 다운되더라도 다른 프로세스는 계속 실행될 수 있다.

**_단점_**

- 각 프로세스마다 독립적인 메모리 영역을 가지고 있어, 작업량이 많을수록 잦은 Context Switching으로 인한 오버헤드 발생
- 득립적인 메모리 영역 때문에 프로세스 간 데이터 공유가 어렵다.(프로세스 간 통신을 위한 IPC 구현이 필요하다)

## 멀티 스레드

> 하나의 응용 프로그램에서 여러 스레드를 구성해 각 스레드가 하나의 작업을 처리하는 것

**_장점_**

- 독립적인 주소 공간을 가지는 프로세스에 비해 데이터 공유 및 통신이 쉽다.

**_단점_**

- 여러 쓰레드가 하나의 자원에 접근할 때 동기화 문제가 발생할 수 있다.
- 즉, 쓰레드 간의 데이터 공유로 인해 임계 구역 내에서 경쟁 조건이 발생하지 않도록 상호 배제, 한정 대기, 진행의 조건을 충족하여야 한다.
  - 상호 배제: 두 개의 프로세스가 동시에 임계구역 내에 존재하면 안된다.
  - 한정 대기(제한된 대기): 임계구역에 진입하기 위해 무한히 기다리는 프로세스는 없어야 한다.
  - 진행: 임계구역 내에 다른 프로세스가 없으면 임계구역을 점유할 수 있어야 한다.

> 임계 구역 문제는 뮤텍스(Mutex)또는 세마포어(Semaphore)와 같은 동기화 기법을 사용해서 관리한다.
